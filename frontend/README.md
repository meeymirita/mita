Заметки функций из уроков



### `1- v-html`
**Назначение:** Директива для вставки HTML-кода в элемент. \
https://vuejs.org/api/built-in-directives.html#v-html
```vue
<script setup>
  const rawHtml = '<span style="color: red;">Красный текст</span>'
</script>

<template>
  <div v-html="rawHtml"></div>
</template>

```
### `2 - Биндинг стилей и классов`
https://vuejs.org/guide/essentials/class-and-style.html#class-and-style-bindings
```vue
<script setup>
  const textColor = 'red'
  const fontSize = 20
</script>
<template>
  <div :style="{ color: textColor, fontSize: fontSize + 'px' }">
    Текст с динамическими стилями
  </div>
</template>
```
### `3 - Тернарный оператор (true/false в шаблоне)`
#### Комплексный пример
```vue
<script setup>
  const colorRed = 'red'
  const user = {
    admin: {
      value: true,
      font: 25,
    },
  }
  const isAdmin = user.admin.value
</script>

<template>
  <main
    :style="{
      color: colorRed,
      fontSize: user.admin.font + 'px'
    }"
    :class="`color-${colorRed}`"
  >
    {{ isAdmin ? 'Администратор' : 'Обычный пользователь' }}
  </main>
</template>
```
### `4 - Slot`
https://vuejs.org/guide/components/slots.html#slots 

Компонент Button.vue:
```vue
<template>
  <button class="button">
    <slot/>
  </button>
</template>
```
Использование компонента:
```vue
<script setup>
  import Button from './Button.vue'
</script>

<template>
  <Button>Сохранить изменения</Button>
</template>
```

Может быть не ограниченное количество слотов  \
Слот по умолчанию всегда без имени, а дополнительные надо называть
``<slot name="plus"/>``
А также можно передать переменную ``currentDate``
```vue
<script setup>
  import Button from '@/components/Button/Button.vue'
  const currentDate = new Date().toLocaleDateString()
</script>

<template>
  <button class="button">
    <span>
      <slot name="currentDate"/>
      <slot name="plus"/>
      <slot name="minus"/>
    </span>
    <slot/>
  </button>
</template>
```
Использование в компоненте 

Нужно указать тег `template` с именем слота `#plus`
```vue 
<template #plus/> 
```  
Пример c двумя доп слотами под плюс и минус: 
```vue
<Button>
  <template #currentDate>{{currentDate}}</template>
  <template #plus>+</template>
  <template #minus>-</template>
  Сохранить
</Button>
```
### `5 - defineProps`
**Назначение:** чтобы объявить свойства, которые компонент принимает. 
```vue
const {label = "Не задан", stat} = defineProps({
  label: String, Принимаем label и stat
  stat: String
})
Если при вызове компонента label не задан будет строка label = "Не задан"
```
**Деструктуризация пропсов:** В Vue 3.5 появилась возможность деструктурировать пропсы для упрощения их использования.

**Типизация пропсов:** Вместо массива можно использовать объект для явного указания типов свойств (например, string).
Это помогает избежать ошибок и не требует TypeScript. 

**Указание значений по умолчанию:** Можно задать дефолтные значения для пропсов на случай, если они не переданы. 

Компоент: 
```Stat.vue```
```vue
<script setup>
const {label = "Не задан", stat} = defineProps({
  label: String,
  stat: String
})
</script>

<template>
<div class="stat">
  <div class="stat-name">{{label}}</div>
  <div class="stat-value">{{stat}}</div>
</div>
</template>
```
Компоент:
```App.vue```
```vue
<template>
  <main class="main">
    <Stat label="Влажность" stat="90%" />
    <Stat label="Осадки" stat="0%" />
    <Button>Сохранить</Button>
  </main>
</template>
```
Также в компоненте можно биндить по разному : 
```vue
const data = {
  label: "Влажность",
  stat: "90%",
};
<Stat :label="data.label" :stat="data.stat" />
Тут уже сам подставит из даты
<Stat v-bind="data" />
```
### `6 - defineEmits и Валидация emits `
**Назначение:** объявляет события, которые компонент может отправлять наружу. \
**Концепции emit:** Emit означает отправлять или поднимать наверх события и данные из компонента.

#### defineProps vs defineEmits:
**defineProps:** позволяет компоненту принимать параметры. \
**defineEmits:** объявляет события, которые компонент может отправлять наружу.


```CitySelect.vue```

```vue
<script setup>
  "У меня есть событие 'selectCity"
  const emit = defineEmits(['selectCity'])
  "клик на кнопке"
  function select(){
    "выполнилось selectCity;  данные London "
    emit('selectCity', 'London')
  }
</script>

<template>
  <Button @click="select()">
    Изменить город
  </Button>
</template>
```

```App.vue```

```vue
<script setup>
// функция обработчик
function getCity(city) {
  console.log(city) // Получаем London
  Действия с данными
}
</script>

<template>
  Слушаем событие от дочернего компонента
  <CitySelect @select-city="getCity"/>
</template>
```
### `7 - $attrs`
**Практическое применение:**
Через зарезервированный $attrs можно получать и использовать атрибуты, автоматически примененные к компоненту. \

```App.vue```

```vue
<CitySelect class="asd" style="align-items: center" @select-city="getSity"/>
```

```CitySelect.vue```

```vue
 <Button @click="select()">
  <IconLocation/>
  {{$attrs}}
  Изменить город

</Button>
{ "class": "asd", "style": { "align-items": "center" } } Изменить город
```
















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































